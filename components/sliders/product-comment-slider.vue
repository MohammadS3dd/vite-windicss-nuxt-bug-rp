<template>
  <div>
    <div class="grid-container">
      <main class="grid-item main">
        <div
          ref="slider"
          class="items w-screen overflow-auto justify-center"
          dir="rtl"
        >
          <div class="flex">
            <div
              class="item w-72 h-64 border flex flex-col p-2 pointer-events-none"
            >
              <div class="w-full flex flex-row border-b">
                <div
                  class="rounded-full w-14 h-14 bg-gray-100 flex-shrink-0"
                ></div>
                <div
                  class="w-full p-2 flex flex-col font-light flex-wrap place-content-center"
                >
                  <p>احمد رضا مرتضوی</p>
                  <p>1399/12/24</p>
                </div>
              </div>
              <div class="overflow-hidden line-clamp px-3 pt-2 leading-relaxed">
                <p>
                  لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
                  استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و
                  مجله در ستون و سطرآنچنان که لازم است و برای شرایط فعلی
                  تکنولوژی مورد نیاز و کاربردهای متنوع با هدف بهبود ابزارهای
                  کاربردی می باشد.
                </p>
              </div>
            </div>
            <div class="item w-72 h-64 border flex flex-col p-2">
              <div class="w-full flex flex-row border-b">
                <div
                  class="rounded-full w-14 h-14 bg-gray-100 flex-shrink-0"
                ></div>
                <div
                  class="w-full p-2 flex flex-col font-light flex-wrap place-content-center"
                >
                  <p>احمد رضا مرتضوی</p>
                  <p>1399/12/24</p>
                </div>
              </div>
              <div class="overflow-hidden line-clamp px-3 pt-2 leading-relaxed">
                <p>
                  لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
                  استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و
                  مجله در ستون و سطرآنچنان که لازم است و برای شرایط فعلی
                  تکنولوژی مورد نیاز و کاربردهای متنوع با هدف بهبود ابزارهای
                  کاربردی می باشد.
                </p>
              </div>
            </div>
            <div class="item w-72 h-64 border flex flex-col p-2">
              <div class="w-full flex flex-row border-b">
                <div
                  class="rounded-full w-14 h-14 bg-gray-100 flex-shrink-0"
                ></div>
                <div
                  class="w-full p-2 flex flex-col font-light flex-wrap place-content-center"
                >
                  <p>احمد رضا مرتضوی</p>
                  <p>1399/12/24</p>
                </div>
              </div>
              <div class="overflow-hidden line-clamp px-3 pt-2 leading-relaxed">
                <p>
                  لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
                  استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و
                  مجله در ستون و سطرآنچنان که لازم است و برای شرایط فعلی
                  تکنولوژی مورد نیاز و کاربردهای متنوع با هدف بهبود ابزارهای
                  کاربردی می باشد.
                </p>
              </div>
            </div>
            <div class="item w-72 h-64 border flex flex-col p-2">
              <div class="w-full flex flex-row border-b">
                <div
                  class="rounded-full w-14 h-14 bg-gray-100 flex-shrink-0"
                ></div>
                <div
                  class="w-full p-2 flex flex-col font-light flex-wrap place-content-center"
                >
                  <p>احمد رضا مرتضوی</p>
                  <p>1399/12/24</p>
                </div>
              </div>
              <div class="overflow-hidden line-clamp px-3 pt-2 leading-relaxed">
                <p>
                  لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
                  استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و
                  مجله در ستون و سطرآنچنان که لازم است و برای شرایط فعلی
                  تکنولوژی مورد نیاز و کاربردهای متنوع با هدف بهبود ابزارهای
                  کاربردی می باشد.
                </p>
              </div>
            </div>
            <div class="item w-72 h-64 border flex flex-col p-2">
              <div class="w-full flex flex-row border-b">
                <div
                  class="rounded-full w-14 h-14 bg-gray-100 flex-shrink-0"
                ></div>
                <div
                  class="w-full p-2 flex flex-col font-light flex-wrap place-content-center"
                >
                  <p>احمد رضا مرتضوی</p>
                  <p>1399/12/24</p>
                </div>
              </div>
              <div class="overflow-hidden line-clamp px-3 pt-2 leading-relaxed">
                <p>
                  لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
                  استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و
                  مجله در ستون و سطرآنچنان که لازم است و برای شرایط فعلی
                  تکنولوژی مورد نیاز و کاربردهای متنوع با هدف بهبود ابزارهای
                  کاربردی می باشد.
                </p>
              </div>
            </div>

            <div
              class="flex-shrink-0 m-3 flex h-64 align-center place-items-center w-24 rounded-lg"
            >
              <!-- <div class="bg-white p-3">full</div> -->
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      slidertoolkit: {},
      isDown: false,
      startX: 0,
      scrollLeft: 0,
    }
  },
  beforeMount() {
    this.RAF = window.requestAnimationFrame
    this.myvar = 5
    const slider = document.querySelector('.items')
    this.slider = slider

    this.slider.addEventListener('mousedown', (e) => {
      console.log('mouse down')
      this.isDown = true
      slider.classList.add('activee')
      this.startX = e.pageX - slider.offsetLeft
      this.scrollLeft = slider.scrollLeft

      this.velX = 0
      // cancelMomentumTracking()
    })

    this.slider.addEventListener('mouseleave', () => {
      this.isDown = false
      slider.classList.remove('active')
    })

    this.slider.addEventListener('mouseup', () => {
      this.isDown = false
      slider.classList.remove('active')
      // beginMomentumTracking()
    })

    this.slider.addEventListener('mousemove', (e) => {
      if (!this.isDown) return
      e.preventDefault()
      const x = e.pageX - slider.offsetLeft
      const walk = (x - this.startX) * 1 // scroll-fast
      const prevScrollLeft = slider.scrollLeft
      slider.scrollLeft = this.scrollLeft - walk
      this.velX = 1.6 * (slider.scrollLeft - prevScrollLeft)
    })
  },

  mounted() {},
  methods: {
    logmyvar() {
      console.log(this.myvar)
      console.log(document.querySelector('.items').scrollLeft)

      this.slider.scrollLeft = 1000

      this.$refs.btntest.textContent = 'hiii'
    },
  },
}
</script>
<style lang="scss">
.items {
  cursor: grab;
  &:active {
    cursor: grabbing;
  }
}
.items::-webkit-scrollbar {
  display: none;
}

// .items.active {
//   background: rgba(255, 255, 255, 0.3);
//   cursor: grabbing;
//   cursor: -webkit-grabbing;
//   transform: scale(1);
// }
.line-clamp {
  display: -webkit-box;
  -webkit-line-clamp: 5;
  -webkit-box-orient: vertical;
}
.item {
  @apply flex  rounded flex-shrink-0 m-3;
}
</style>
